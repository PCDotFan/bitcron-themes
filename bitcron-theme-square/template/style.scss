/*
Theme Name: Square
Theme URI: https://blog.shuiba.co/bitcron-theme-square
Author: Shuibaco
Author URI: https://shuiba.co
MIT License: Copyright (c) 2017 Shuibaco
*/

/* Customize ----------------------------------*/
$font-size: 17px; /* use px instead of em */
$line-height: 1.7em;
$max-width: 800px;
/* colors */
$word-color: #333;
$second-color: #999;
$link-color: #ccc;
$hover-color: #333;
$bg-color: #f8f8f8;
$border-color: #eee;
/* nav background */
$nav-bg: url(/site_avatar.png);
$nav-bg-size: 250px;
$nav-bg-opacity: 0.1;
/* posts thumbnail size */
$thumb-width: 180px;
$thumb-height: 100px;
$thumb-width-mobile: 100%;
$thumb-height-mobile: 100px;
/* templates for extend */
.module {
	font-size: $font-size*0.9;
	line-height: $line-height;
}
.square {
	border: 2px solid $border-color;
	background: #fff;
	transition: 0.5s;
	&:hover, &:focus {
		box-shadow: 0 0 8px $border-color;
	}
}

/* Mixins ---------------------------------*/
@mixin flexbox() {
	display: -webkit-box;
	display: -moz-box;
	display: -ms-flexbox;
	display: -webkit-flex;
	display: flex;
}
@mixin flex-wrap($wrap) {
  -webkit-flex-wrap: $wrap;
     -moz-flex-wrap: $wrap;
      -ms-flex-wrap: $wrap;
          flex-wrap: $wrap;
}
@mixin flex-basis($width) {
  -webkit-flex-basis: $width;
     -moz-flex-basis: $width;
      -ms-flex-basis: $width;
          flex-basis: $width;
}
@mixin justify-content($justify) {
  -webkit-justify-content: $justify;
     -moz-justify-content: $justify;
      -ms-justify-content: $justify;
          justify-content: $justify;
            -ms-flex-pack: $justify;
}
@mixin align-items($align) {
  -webkit-align-items: $align;
     -moz-align-items: $align;
      -ms-align-items: $align;
          align-items: $align;
}

/* Basic ---------------------------------*/
p, pre, blockquote, figure, table {
	margin: 1em 0;
}
body {
	max-width: $max-width;
	margin: 0 auto;
	font-size: $font-size;
	line-height: $line-height;
	font-family: Cambria, "Microsoft Yahei", sans-serif;
	font-weight: 300;
	color: $word-color;
	overflow-wrap: break-word;
	text-align: justify;
}
a {
	text-decoration: none;
	border-bottom: 1px solid;
	color: $link-color;
	transition: 0.5s;
	&:hover {
		color: $hover-color;
	}
}
h1, h2, h3, h4, h5, h6 {
	font-family: 'Noto Serif', 'Noto Serif CJK SC', 'Noto Serif CJK', 'Source Han Serif SC', 'Source Han Serif CN', 'Source Han Serif', 'source-han-serif-sc', serif;
	margin: 1.5em 0 1em;
	line-height: $line-height / $line-height;
}
ul, ol {
	margin: 1em 0;
	padding-left: 2em;
	padding-right: 1em;
}
ul ul, ul ol, ol ol, ol ul {
	margin: 0!important;
	padding-left: 1em;
}
img {
	max-width: 100%;
}
del {
	color: #ccc;
}
hr {
	border: 0;
	border-bottom: 2px solid $border-color;
	margin: 3em 40%;
}
blockquote {
	@extend .module;
	color: $second-color;
	font-style: italic;
	border-left: 10px solid $border-color;
	border-radius: 15px;
	padding: 1em;
	p:first-child {
		margin-top: 0;
	}
	p:last-child {
		margin-bottom: 0;
	}
	ul, ol {
		margin: 0!important;
		padding-left: 1em;
		padding-right: 0;
	}
}
pre {
	@extend .module;
	background: $bg-color;
	font-family: monospace, "Microsoft Yahei";
	text-align: left;
	overflow-x: auto;
	overflow-y: hidden;
	padding: 1em;
	border: 1px solid $border-color;
	border-radius: 5px;
	-webkit-overflow-scrolling: touch;
	word-wrap: normal;
	code {
		padding: 0;
		margin: 0;
		border: 0;
	}
}
code {
	@extend .module;
	background: $bg-color;
	font-family: monospace, "Microsoft Yahei";
	padding: 2px 6px;
	margin: 0 3px;
	border: 1px solid $border-color;
	border-radius: 5px;
}
figure {
	text-align: center;
	figcaption {
		@extend .module;
		color: $second-color;
		margin: 0 $font-size $font-size;
	}
}
table {
	width: 100%;
	word-break: break-all;
	background: $bg-color;
	border-collapse: collapse;
	border-spacing: 0;
	th, td {
		border-top: 1px solid $border-color;
		border-left: 1px solid $border-color;
		padding: 1em;
		vertical-align: top;
		&:first-child {
			border-left: 0;
		}
	}
	thead tr {
		border-bottom: 3px solid $border-color;
		&> th {
			border-top: 0;
		}
	}
	tbody {
		@extend .module;
		&> tr:nth-child(odd) > td, &> tr:nth-child(odd) > th {
			background: #fcfcfc;
		}
	}
}
sup {
	vertical-align: top;
	position: relative;
	top: -0.5em;
	a {
		border-radius: 100%;
		width: 16px;
		height: 16px;
		line-height: 16px;
		display: inline-block;
		text-align: center;
		font-size: 10px;
		margin: 0 3px;
		padding: 0!important;
		background: $bg-color;
		border: 1px solid $border-color;
		color: $second-color;
		&:hover {
			color: $word-color;
			background: $border-color;
		}
	}
}
::-moz-selection { 
	background: #fefecc;
}
::selection { 
	background: #fefecc;
}

/* Special edit for Bitcron */
ul p, ol p {
	margin: 0;
}
.fa-spin {
	color: $link-color;
}
.todo_done_item {
	text-decoration: line-through;
	color: #ccc;
}
.toc {
	@extend .module;
	background: $bg-color;
	padding: 1em;
	float: right;
	margin: 0 0 2em 2em;
	ul {
		padding-left: 1em;
		padding-right: 0;
		margin: 0;
	}
	&> ul {
		padding-left: 0;
	}
	ul li {
		list-style: none;
		a {
			border: 0;
		}
		a::before {
			content: '+';
			padding-right: 6px;
		}
	}
}
.footnotes {
	@extend .module;
	a {
		border: 0;
	}
	ol {
		background: $bg-color;
		color: $second-color;
		padding: 1em 1em 1em 2em;
		p {
			margin: 0;
			padding: 0;
		}
	}
}
#back_to_top {
	@extend .square;
	span {
		color: $link-color;
		line-height: 40px;
		transition: 0.5s;
	}
	&:hover {
		span {
			color: $hover-color;
		}
	}
}
table.highlighttable {
	table-layout: fixed;
	pre {
		margin: 0;
		padding: 0;
		border: 0;
	}
	td {
		background: $bg-color!important;
	}
	td.linenos {
		width: 1.2em;
	}
}

/* Header ---------------------------------*/
header {
	border-bottom: 2px solid $border-color;
	padding: $font-size 0;
	box-sizing: border-box;
	text-align: center;
	font-weight: bold;
	font-size: 1.2em;
	a#logo {
		border: 0;
		display: block;
		color: $word-color;
		text-transform: uppercase;
		img {
			width: 50px;
			height: 50px;
			border: 2px solid $border-color;
			-webkit-filter: grayscale(100%);
			filter: grayscale(100%);
			transition: 0.5s;
		}
		&:hover {
			color: $link-color;
			img {
				-webkit-filter: grayscale(0);
				filter: grayscale(0);
				box-shadow: 0 0 8px $border-color;
			}
		}
	}
}

/* Main ---------------------------------*/
#search {
	@extend .module;
	margin: $font-size 0 0;
	input {
		width: 100%;
		outline: 0;
		border-radius: 0;
		padding: 1em;
		box-sizing: border-box;
		text-align: center;
		font-family: inherit;
		font-weight: inherit;
		font-size: inherit;
		color: inherit;
		transition: 0.5s;
		@extend .square;
		&::-webkit-input-placeholder {
			color: $link-color;
		}
		&:focus::-webkit-input-placeholder {
			color: $border-color;
		}
		/* remove button style in ios */
		-webkit-appearance: none;
		-moz-appearance: none;
	}
}
nav {
	font-family: 'Noto Serif', 'Noto Serif CJK SC', 'Noto Serif CJK', 'Source Han Serif SC', 'Source Han Serif CN', 'Source Han Serif', 'source-han-serif-sc', serif;
	ul {
		margin: 0!important;
		padding: 0;
		@include flexbox();
		@include flex-wrap(wrap);
		li {
			list-style: none;
			@include flex-basis(32%);
			margin-right: 2%;
			min-width: 0;
			&:nth-child(3n+0) {
				margin-right: 0;
			}
			margin-top: $font-size;
			a {
				@include flexbox();
				@include align-items(center);
				@include justify-content(center);
				text-align: center;
				@extend .square;
				height: 252px;
				position: relative;
				overflow: hidden;
				&:hover {
					background: transparent;
				}
				&:after {
					content: '';
					background: $nav-bg center no-repeat;
					background-size: $nav-bg-size;
					opacity: $nav-bg-opacity;
					position: absolute;
					z-index: -1;
					top: 0;
					left: 0;
					bottom: 0;
					right: 0;
				}
			}
		}
	}
}
main {
	margin: $font-size 0;
	a.block {
		@extend .module;
		display: block;
		border: 0;
		padding: 1em;
		color: $second-color;
		&:hover {
			color: $hover-color;
			background: $bg-color;
		}
		h2 {
			margin-top: 0;
			color: $word-color;
		}
		time {
			@extend .module;
			color: $link-color;
		}
		&:nth-child(odd) {
			background: $bg-color;
		}
		.thumbnail {
			background-size: cover;
			width: $thumb-width;
			height: $thumb-height;
			background-position: center;
			float: left;
			margin-right: $font-size;
			margin-bottom: $font-size / 2;
		}
		overflow: hidden;
	}
	ul#info {
		@extend .module;
		margin: 0;
		padding: 0;
		color: $link-color;
		text-align: left;
		li {
			list-style: none;
			display: inline-block;
			a:hover {
				border: 0;
			}
			&:before {
				content: 'â€¢ ';
			}
		}
	}
	h1#postitle {
		margin-top: $font-size / 2;
	}
	#postpager {
		overflow: hidden;
		margin-top: $font-size*3 - 22;
		margin-bottom: -($font-size*3 + 22);
		a {
			@extend .square;
			border-radius: 100%;
			display: block;
			width: 40px;
			height: 40px;
			line-height: 40px;
			text-align: center;
			&:hover:before {
				color: $hover-color;
			}
		}
		.pre {
			float: left;
			&:before {
				font: normal normal normal $font-size FontAwesome;
				content: "\f104";
				color: $link-color;
				transition: 0.5s;
			}
		}
		.next {
			float: right;
			&:before {
				font: normal normal normal 20px FontAwesome;
				content: "\f105";
				color: $link-color;
				transition: 0.5s;
			}
		}
	}
	.label {
		@extend .module;
		margin: $font-size;
	}
	#archive {
		span, time {
			@extend .module;
		}
		#catlist ul, #taglist ul {
			padding: 0;
			li {
				list-style: none;
				display: inline-block;
				margin-right: 5px;
			}
		}
		.pager {
			@extend .module;
			text-align: right;
			color: $link-color;
			a {
				display: inline-block;
				padding: 0 5px;
				border: 0;
				&.current {
					color: $word-color;
				}
			}
		}
		#left {
			width: 30%;
			float: right;
			text-align: left;
			margin-top: -38.25px;
		}
		#archlist {
			width: 65%;
			margin-right: 5%;
		}
	}
}

/* Footer ---------------------------------*/
footer {
	@extend .module;
	text-align: center;
	color: $link-color;
	border-top: 2px solid $border-color;
	padding: $font-size 0;
	box-sizing: border-box;
	a:hover {
		color: $word-color;
		border: 0;
	}
}

/* Comments ---------------------------------*/
.doc_comments {
	@extend .module;
	padding: 0 0 $font-size!important;
	margin: $font-size 0!important;
	.comments_block_title {
		display: none;
	}
	ul ul {
		padding: 0!important;
	}

	/* New comment form */
	#new_comment_form {
		border: 2px solid $border-color!important;
		background: inherit!important;
		margin-top: $font-size!important;
		margin-bottom: $font-size!important;
		transition: 0.5s;
		.comment_trigger {
			padding-left: $font-size!important;
			padding-right: $font-size!important;
			img {
				display: none;
			}
			.trigger_title {
				color: $link-color!important;
				line-height: 40px!important;
				margin-left: 0!important;
				transition: 0.5s;
			}
		}
		&:hover {
			box-shadow: 0 0 8px $border-color;
			cursor: pointer;
			.trigger_title {
				color: $hover-color!important;
			}
		}
		textarea {
			padding: 0 $font-size 0 $font-size!important;
			font-family: inherit;
			font-weight: inherit;
			&:hover {
				cursor: pointer;
			}
		}
		.input_body {
			padding-left: $font-size!important;
			padding-right: $font-size!important;
			background: $bg-color!important;
			ul {
				overflow: auto;
				li input {
					padding-left: 0!important;
					&::-webkit-input-placeholder {
						color: $link-color;
					}
					&:focus::-webkit-input-placeholder {
						color: $border-color;
					}
				}
			}
			.comment_submit_button {
				background: $link-color!important;
				margin-right: $font-size;
				border-radius: 0;
				transition: 0.5s;
				&:hover {
					cursor: pointer;
					background: $word-color!important;
				}
			}
			input {
				font-family: inherit;
				font-weight: inherit;
				/* remove button style in ios */
				-webkit-appearance: none;
				-moz-appearance: none;
			}
		}
	}

	/* Comment lists */
	.comments {
		margin-top: -($font-size + 1)!important;
		.comment {
			background: inherit!important;
			margin: 0!important;
			border: 0!important;
			padding: 0!important;
			.author {
				padding-bottom: 0!important;
				b {
					background: transparent!important;
					color: inherit!important;
				}
				img {
					border: 2px solid $border-color;
				}
				.reply {
					color: transparent!important;
					&::before {
						font: normal normal normal 12px/1 FontAwesome;
						content: "\f112";
						color: $link-color;
						transition: 0.5s;
					}
					&:hover::before {
						color: $word-color;
					}
				}
				.author-date {
					font-size: 0.9em;
					color: $second-color;
				}
			}
			.sub_comments {
				margin: 0 0 0 48px!important;
				padding: 1em 0 0!important;
				border-top: 1px dotted $border-color;
			}
			.sub_comments .sub_comments {
				margin-left: 0!important;
			}
			.p_part {
				padding-left: 48px!important;
			}
			#new_comment_form {
				margin-left: 48px;
			}
		}
		& > .comment {
			border-top: 1px dotted $border-color!important;
			border-radius: 0!important;
			padding: $font-size 0 0!important;
		}
	}
}

/* Responsive ---------------------------------*/
@media only screen and (max-width : 800px) {
	header, footer {
		margin-left: $font-size;
		margin-right: $font-size;
	}
	main {
		#search, nav, p, pre, blockquote, h1, h2, h3, h4, h5, h6, ul, ol, ul#info, .pager, #comments, #postpager {
			margin-left: $font-size;
			margin-right: $font-size;
		}
		a.block h2, blockquote p {
			margin-left: 0;
			margin-right: 0;
		}
	}
	nav ul li a {
		height: 230px;
	}
}
@media only screen and (max-width : 600px) {
	.toc {
		float: none;
		margin: $font-size;
	}
	nav ul li {
		margin-top: 8px;
		a {
			height: 117px;
			font-size: $font-size*0.8;
			line-height: 1.5em;
		}
	}
	main #archive {
		#left, #archlist {
			width: 100%;
			float: none;
			margin-top: auto;
			margin-right: auto;
		}
	}
	main a.block .thumbnail {
		width: $thumb-width-mobile;
		height: $thumb-height-mobile;
		float: none;
		margin-right: auto;
	}
	.doc_comments #new_comment_form {
		.comment_triggered {
			height: auto!important;
		}
		.input_body {
			height: auto!important;
			padding: $font-size!important;
			li {
				width: 100%!important;
				padding: 5px 0!important;
			}
			.comment_submit_button {
				padding: 0 10px!important;
				height: 96px;
				margin-top: $font-size;
			}
		}
	}
}
@media only screen and (max-width : 400px) {
	nav ul li {
		margin-top: 6.8px;
		a {
			height: 104px;
			font-size: $font-size*0.7;
		}
	}
	footer {
		font-size: $font-size*0.7;
		line-height: 1.5em;
	}
}

/* Syntax highlighter by Pygments ----------------------------------*/
.codehilite .c { color: #999999 } /* Comment */
.codehilite .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.codehilite .k { color: #8B008B; font-weight: bold } /* Keyword */
.codehilite .n { color: #555555 } /* Name */
.codehilite .o { color: #555555 } /* Operator */
.codehilite .p { color: #555555 } /* Punctuation */
.codehilite .cm { color: #999999 } /* Comment.Multiline */
.codehilite .cp { color: #1e889b } /* Comment.Preproc */
.codehilite .c1 { color: #999999 } /* Comment.Single */
.codehilite .cs { color: #8B008B; font-weight: bold } /* Comment.Special */
.codehilite .gd { color: #aa0000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #aa0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00aa00 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #555555 } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #aa0000 } /* Generic.Traceback */
.codehilite .kc { color: #8B008B; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #8B008B; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #8B008B; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #8B008B; font-weight: bold } /* Keyword.Pseudo */
.codehilite .kr { color: #8B008B; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #a7a7a7; font-weight: bold } /* Keyword.Type */
.codehilite .m { color: #B452CD } /* Literal.Number */
.codehilite .s { color: #CD5555 } /* Literal.String */
.codehilite .na { color: #658b00 } /* Name.Attribute */
.codehilite .nb { color: #658b00 } /* Name.Builtin */
.codehilite .nc { color: #008b45; font-weight: bold } /* Name.Class */
.codehilite .no { color: #00688B } /* Name.Constant */
.codehilite .nd { color: #707a7c } /* Name.Decorator */
.codehilite .ni { color: #555555 } /* Name.Entity */
.codehilite .ne { color: #008b45; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #008b45 } /* Name.Function */
.codehilite .nl { color: #555555 } /* Name.Label */
.codehilite .nn { color: #008b45; text-decoration: underline } /* Name.Namespace */
.codehilite .nx { color: #555555 } /* Name.Other */
.codehilite .py { color: #555555 } /* Name.Property */
.codehilite .nt { color: #8B008B; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #00688B } /* Name.Variable */
.codehilite .ow { color: #8B008B } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #B452CD } /* Literal.Number.Bin */
.codehilite .mf { color: #B452CD } /* Literal.Number.Float */
.codehilite .mh { color: #B452CD } /* Literal.Number.Hex */
.codehilite .mi { color: #B452CD } /* Literal.Number.Integer */
.codehilite .mo { color: #B452CD } /* Literal.Number.Oct */
.codehilite .sb { color: #CD5555 } /* Literal.String.Backtick */
.codehilite .sc { color: #CD5555 } /* Literal.String.Char */
.codehilite .sd { color: #CD5555 } /* Literal.String.Doc */
.codehilite .s2 { color: #CD5555 } /* Literal.String.Double */
.codehilite .se { color: #CD5555 } /* Literal.String.Escape */
.codehilite .sh { color: #1c7e71; font-style: italic } /* Literal.String.Heredoc */
.codehilite .si { color: #CD5555 } /* Literal.String.Interpol */
.codehilite .sx { color: #cb6c20 } /* Literal.String.Other */
.codehilite .sr { color: #1c7e71 } /* Literal.String.Regex */
.codehilite .s1 { color: #CD5555 } /* Literal.String.Single */
.codehilite .ss { color: #CD5555 } /* Literal.String.Symbol */
.codehilite .bp { color: #658b00 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #00688B } /* Name.Variable.Class */
.codehilite .vg { color: #00688B } /* Name.Variable.Global */
.codehilite .vi { color: #00688B } /* Name.Variable.Instance */
.codehilite .il { color: #B452CD } /* Literal.Number.Integer.Long */